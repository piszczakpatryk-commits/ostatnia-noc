<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OSTATNIA NOC ü•∑</title>

<link href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Rubik Mono One',sans-serif;
  background:url("tlo.png") center/cover no-repeat fixed;
  min-height:100vh;
  color:#fff;
}
.overlay{
  min-height:100vh;
  background:rgba(0,0,0,.85);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:15px;
}
.box{
  width:100%;
  max-width:760px;
  background:#000;
  border-radius:18px;
  padding:22px;
  box-shadow:0 0 50px #000;
}
h1{text-align:center;letter-spacing:3px}
.timer{text-align:center;color:#ff2b2b;margin:10px 0;font-size:20px}
.question{margin:15px 0;font-size:18px}
.answers button{
  width:100%;padding:14px;margin:6px 0;
  background:#111;border:2px solid #444;color:#fff;
  border-radius:10px;font-size:15px;
}
.answers button:hover{background:#ff2b2b}
input{width:100%;padding:12px;font-size:16px;text-align:center;border-radius:8px;border:none;margin-top:10px}
.hidden{display:none}
.flash-good{animation:good .3s}
.flash-bad{animation:bad .4s}
@keyframes good{0%{background:#0f0}100%{background:#000}}
@keyframes bad{
  0%{background:#f00;transform:translateX(-5px)}
  50%{transform:translateX(5px)}
  100%{background:#000;transform:none}
}
.confetti{
  position:fixed;width:10px;height:10px;top:-10px;
  animation:fall 3s linear infinite;
}
@keyframes fall{to{transform:translateY(110vh) rotate(360deg)}}
a{color:#00ffcc}
</style>
</head>

<body>
<div class="overlay">
<div class="box">

<h1>OSTATNIA NOC ü•∑</h1>

<div id="lock">
PODAJ HAS≈ÅO
<input id="pwd" placeholder="HAS≈ÅO">
<button onclick="checkPass()">ENTER</button>
</div>

<div id="game" class="hidden">
  <div id="timer" class="timer">03:00</div>
  <div id="quiz"></div>
</div>

<div id="result" class="hidden"></div>

</div>
</div>

<audio id="good" src="good.mp3"></audio>
<audio id="bad" src="bad.mp3"></audio>

<script>
// ====== OKNO CZASOWE ======
const START = new Date("2026-01-22T00:00:00");
const END   = new Date("2026-01-25T00:00:00");
const NOW   = new Date();

if(NOW < START || NOW >= END){
  document.body.innerHTML =
  "<h1 style='color:red;text-align:center;margin-top:40vh'>QUIZ ZAKO≈ÉCZONY</h1>";
}

// ====== HAS≈ÅO ======
const PASSWORD = "OSTATNIANOC";

// ====== PYTANIA ======
let questions=[
{q:"KIEDY POWSTA≈Å STREET MEET?",a:["2025","2023","2021"],c:1},
{q:"1/4 PRZY JAKIEJ FIRMIE?",a:["TPV","YETICO","FAURECIA"],c:1},
{q:"GDZIE NAGRYWANO TELEDYSK DO NUTY STREETA?",a:["TRZEBISZEWO","SKWIERZYNA","GORZ√ìW"],c:0},
{q:"NALOT POLICJI NA HALLOWEEN",a:["AGATA","BIG","S1"],c:2},
{q:"GDZIE NAGRYWANA OSTATNIA ROLKA ZE SPOTA ILLEGAL?",a:["STRZELCE","TRZEBISZEWO","KOSTRZYN"],c:1},
{q:"NO PIRO NO FUN?",a:["TAK","NIE"],c:0},
{q:"STREET MEET BASS WALI W CHUJ‚Ä¶",a:["NAS NIE DOGONISZ","KA≈ªDY CO STOI","PSY WPADAJƒÑ"],c:0},
{q:"ILE OS√ìB NA KANALE?",a:["1500","2100","3000"],c:1},
{q:"ZBI√ìRKI DLA?",a:["PIESK√ìW","DZIECI","POTRZEBUJƒÑCYCH"],c:0},
{q:"NAJWIƒòKSZY SPOT GDZIE?",a:["BIG","OBI","AGATA"],c:0}
];

questions.sort(()=>Math.random()-0.5);

let q=0,score=0,time=180;
let attempts=localStorage.getItem("attempts")||0;
const link=atob("aHR0cHM6Ly90Lm1lLyslMkI3LXUtcVFBUzVVek16ZzA=");

// ====== HAS≈ÅO ======
function checkPass(){
  if(pwd.value===PASSWORD){
    lock.classList.add("hidden");
    game.classList.remove("hidden");
    show();
    runTimer();
  }
}

// ====== QUIZ ======
function show(){
  if(q>=questions.length){end();return;}
  let qu=questions[q];
  quiz.innerHTML=`<div class="question">${qu.q}</div>
  <div class="answers">${
    qu.a.map((x,i)=>`<button onclick="ans(${i})">${x}</button>`).join("")
  }</div>`;
}

function ans(i){
  if(i===questions[q].c){
    score++; good.play(); document.body.classList.add("flash-good");
  }else{
    bad.play(); document.body.classList.add("flash-bad");
  }
  setTimeout(()=>document.body.className="",300);
  q++; show();
}

function end(){
  localStorage.setItem("attempts",++attempts);
  game.classList.add("hidden");
  result.classList.remove("hidden");

  if(score===questions.length){
    confetti();
    result.innerHTML=`üéâ GRATULACJE ü•∑<br><a href="${link}" target="_blank">${link}</a>`;
  }else{
    result.innerHTML="‚ùå S≈ÅABO, S≈ÅABO SPR√ìBUJ JESZCZE RAZ üòè";
  }
}

// ====== TIMER ======
function runTimer(){
  setInterval(()=>{
    time--;
    timer.textContent=
    `${String(Math.floor(time/60)).padStart(2,'0')}:${String(time%60).padStart(2,'0')}`;
    if(time<=0)end();
  },1000);
}

// ====== CONFETTI ======
function confetti(){
  for(let i=0;i<120;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration=2+Math.random()*3+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),5000);
  }
}

// ====== BLOKADA COFANIA ======
history.pushState(null,null,location.href);
onpopstate=()=>history.go(1);

// ====== ADMIN RESET ======
document.addEventListener("keydown",e=>{
  if(e.shiftKey&&e.key==="A"){
    window.addEventListener("keydown",x=>{
      if(x.key==="D"){
        localStorage.clear();
        location.reload();
      }
    },{once:true});
  }
});
</script>
</body>
</html>
