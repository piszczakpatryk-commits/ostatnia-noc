<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>OSTATNIA NOC</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:#000 url("tlo.png") no-repeat center/cover;
  font-family:Arial,sans-serif;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
}

.box{
  width:100%;
  max-width:520px;
  padding:22px;
  background:rgba(0,0,0,.82);
  backdrop-filter:blur(6px);
  border:1px solid rgba(255,255,255,.12);
  text-align:center;
}

.hidden{display:none}

h1{letter-spacing:4px;font-size:26px}
p{font-size:15px}

input,button{
  width:100%;
  padding:14px;
  margin-top:10px;
  background:#000;
  border:1px solid #333;
  color:#fff;
  font-size:16px;
}

button:active{transform:scale(.98)}
button:hover{border-color:#ff3333}

.timer{
  color:#ff3333;
  font-size:18px;
  margin-bottom:15px;
}

.flash-good{background:rgba(0,90,0,.85)!important}
.flash-bad{background:rgba(90,0,0,.85)!important}

.footer{
  margin-top:30px;
  font-size:28px;
  opacity:.85;
}

a{
  color:#00ff88;
  font-weight:bold;
  text-decoration:none;
  font-size:18px;
}
</style>
</head>

<body>

<div class="box">

<div id="expired" class="hidden">
  <h1>OSTATNIA NOC</h1>
  <p>DOSTƒòP ZAMKNIƒòTY</p>
</div>

<div id="blocked" class="hidden">
  <h1>OSTATNIA NOC</h1>
  <p>‚ùå PRZEKROCZONO LIMIT PR√ìB</p>
</div>

<div id="login">
  <h1>OSTATNIA NOC</h1>
  <p>Wpisz has≈Ço</p>
  <input id="pass" type="password" placeholder="has≈Ço">
</div>

<div id="quiz" class="hidden">
  <div class="timer" id="timer">05:00</div>
  <div id="question"></div>
  <div id="answers"></div>
</div>

<div id="result" class="hidden"></div>

</div>

<script>
// ====== DATA WYGA≈öNIƒòCIA (25 STYCZNIA 2026) ======
const DEADLINE = new Date("2026-01-25T00:00:00");
if(new Date() >= DEADLINE){
  document.querySelector(".box").innerHTML =
    "<h1>OSTATNIA NOC</h1><p>DOSTƒòP ZAKO≈ÉCZONY</p>";
  throw "";
}

// ====== LIMIT PR√ìB ======
let attempts = Number(localStorage.getItem("attempts") || 0);
if(attempts >= 3){
  login.classList.add("hidden");
  blocked.classList.remove("hidden");
  throw "";
}

// ====== HAS≈ÅO ======
pass.addEventListener("input",()=>{
  if(pass.value.trim()==="ostatnianoc"){
    login.classList.add("hidden");
    quiz.classList.remove("hidden");
    startTimer();
    startQuiz();
  }
});

// ====== PYTANIA ======
const questions=[
 {q:"KIEDY POWSTA≈Å STREET MEET?",a:["2025","2023","2021"],c:1},
 {q:"1/4 PRZY JAKIEJ FIRMIE?",a:["TPV","YETICO","FAURECIA"],c:1},
 {q:"GDZIE NAGRYWANO TELEDYSK DO NUTY STREETA?",a:["TRZEBISZEWO","SKWIERZYNA","GORZ√ìW"],c:0},
 {q:"NALOT POLICJI NA HALLOWEEN",a:["AGATA MEBLE","BIG GORZ√ìW","S1"],c:2},
 {q:"GDZIE NAGRYWANA OSTATNIA ROLKA?",a:["STRZELCE","TRZEBISZEWO","KOSTRZYN"],c:1},
 {q:"NO PIRO NO FUN?",a:["TAK","NIE"],c:0},
 {q:"STREET MEET BASS WALI‚Ä¶",a:["NAS NIE DOGONISZ","KA≈ªDY CO STOI","PSY WPADAJƒÑ"],c:0},
 {q:"ILE OS√ìB NA KANALE?",a:["1500","2100","3000"],c:1},
 {q:"ZBI√ìRKI DLA?",a:["PIESK√ìW","DOMU DZIECKA","POTRZEBUJƒÑCYCH"],c:0},
 {q:"NAJWIƒòKSZY SPOT GDZIE?",a:["BIG GORZ√ìW","AGATA","STRZELCE"],c:0}
];

questions.sort(()=>Math.random()-.5);

let index=0,score=0;

// ====== TIMER ======
let time=300,interval;
function startTimer(){
  interval=setInterval(()=>{
    time--;
    timer.innerText=
      String(Math.floor(time/60)).padStart(2,"0")+":"+
      String(time%60).padStart(2,"0");
    if(time<=0) endQuiz();
  },1000);
}

// ====== QUIZ ======
function startQuiz(){showQuestion();}

function showQuestion(){
  if(index>=questions.length)return endQuiz();
  const q=questions[index];
  question.innerHTML=`<h3>${q.q}</h3>`;
  answers.innerHTML="";
  q.a.map((t,i)=>({t,i})).sort(()=>Math.random()-.5)
  .forEach(o=>{
    const b=document.createElement("button");
    b.innerText=o.t;
    b.onclick=()=>answer(o.i);
    answers.appendChild(b);
  });
}

function answer(i){
  document.body.classList.add(i===questions[index].c?"flash-good":"flash-bad");
  setTimeout(()=>document.body.className="",250);
  if(i===questions[index].c)score++;
  index++; showQuestion();
}

// ====== KONIEC + UKRYTY LINK ======
function endQuiz(){
  clearInterval(interval);
  localStorage.setItem("attempts",attempts+1);
  quiz.classList.add("hidden");
  result.classList.remove("hidden");

  if(score>=questions.length-1){
    const a=document.createElement("a");
    a.href=atob("aHR0cHM6Ly90Lm1lLytBSjVrcGpPNXdBczBNSUkw");
    a.target="_blank";
    a.innerText="ODBIERZ LINK";

    result.innerHTML=
      "<h1>OSTATNIA NOC üèÜ</h1><p style='color:#00ff88'>PRZECHODZISZ DALEJ</p>";
    result.appendChild(a);
    result.innerHTML+= "<div class='footer'>STREET MEET</div>";
  }else{
    result.innerHTML="<p>‚ùå NIEZALICZONE</p>";
  }
}
</script>

</body>
</html>
