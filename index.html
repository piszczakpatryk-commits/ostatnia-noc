<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>OSTATNIA NOC</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: url("tlo.png") no-repeat center center fixed;
  background-size: cover;
  font-family: Arial, sans-serif;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
}

.box {
  width: 100%;
  max-width: 520px;
  padding: 25px;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255,255,255,0.12);
  text-align: center;
}

.hidden { display: none; }

h1 { letter-spacing: 5px; }

input {
  width: 100%;
  padding: 14px;
  background: #000;
  border: 1px solid #333;
  color: #fff;
  font-size: 16px;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  background: #000;
  border: 1px solid #333;
  color: #fff;
  cursor: pointer;
  font-size: 15px;
}

button:hover {
  border-color: #ff3333;
}

.timer {
  color: #ff3333;
  font-size: 18px;
  margin-bottom: 15px;
}

.flash-good { background: rgba(0,90,0,0.85) !important; }
.flash-bad  { background: rgba(90,0,0,0.85) !important; }

.link {
  color: #00ff88;
  font-weight: bold;
  text-decoration: none;
}

.footer {
  margin-top: 35px;
  font-size: 32px;
  opacity: 0.85;
}
</style>
</head>

<body>

<div class="box">

<!-- PO DACIE -->
<div id="expired" class="hidden">
  <h1>OSTATNIA NOC</h1>
  <p>Quiz zako≈Ñczony</p>
</div>

<!-- HAS≈ÅO -->
<div id="login">
  <h1>OSTATNIA NOC</h1>
  <p>Wpisz has≈Ço</p>
  <input id="pass" type="password" placeholder="has≈Ço">
  <p id="passInfo"></p>
</div>

<!-- QUIZ -->
<div id="quiz" class="hidden">
  <div class="timer" id="timer">05:00</div>
  <div id="question"></div>
  <div id="answers"></div>
</div>

<!-- WYNIK -->
<div id="result" class="hidden"></div>

</div>

<script>
// ===== DATA WYGA≈öNIƒòCIA =====
if (new Date() >= new Date("2026-01-25T00:00:00")) {
  login.style.display = "none";
  expired.style.display = "block";
}

// ===== LIMIT PODEJ≈öƒÜ =====
let attempts = Number(localStorage.getItem("attempts") || 0);
if (attempts >= 3) {
  login.innerHTML = "<p>DOSTƒòP ZABLOKOWANY</p>";
}

// ===== HAS≈ÅO =====
pass.addEventListener("input", () => {
  if (pass.value.trim() === "ostatnianoc") {
    login.style.display = "none";
    quiz.classList.remove("hidden");
    startTimer();
    startQuiz();
  }
});

// ===== PYTANIA =====
const questions = [
  {q:"KIEDY POWSTA≈Å STREET MEET?", a:["2025","2023","2021"], c:1},
  {q:"1/4 PRZY JAKIEJ FIRMIE?", a:["TPV","YETICO","FAURECIA"], c:1},
  {q:"GDZIE NAGRYWANO TELEDYSK DO NUTY STREETA?", a:["TRZEBISZEWO","SKWIERZYNA","GORZ√ìW"], c:0},
  {q:"NALOT POLICJI NA HALLOWEEN", a:["AGATA MEBLE","BIG GORZ√ìW","S1"], c:2},
  {q:"GDZIE NAGRYWANA OSTATNIA ROLKA ZE SPOTA ILLEGAL?", a:["STRZELCE KRAJE≈ÉSKIE","TRZEBISZEWO","KOSTRZYN NAD ODRƒÑ"], c:2},
  {q:"NO PIRO NO FUN ?", a:["TAK","NIE"], c:0},
  {q:"STREET MEET BASS WALI W CHUJ‚Ä¶", a:["NAS NIE DOGONISZ JU≈ª","KA≈ªDY CO STOI TU","PSY WPADAJƒÑ ZAWIJAMY"], c:0},
  {q:"ILE OS√ìB JEST NA KANALE NADAWCZYM?", a:["1500","2100","3000"], c:1},
  {q:"ZBI√ìRKI DLA ?", a:["PIESK√ìW","DOMU DZIECKA","DLA POTRZEBUJƒÑCYCH"], c:0},
  {q:"NAJWIƒòKSZY SPOT GDZIE ?", a:["BIG GORZ√ìW","AGATA MEBLE","STRZELCE KRAJE≈ÉSKIE"], c:0}
];

// LOSOWANIE PYTA≈É
questions.sort(() => Math.random() - 0.5);

let index = 0;
let score = 0;

// ===== TIMER 5 MIN =====
let time = 300;
let interval;
function startTimer() {
  interval = setInterval(() => {
    time--;
    const m = String(Math.floor(time/60)).padStart(2,"0");
    const s = String(time%60).padStart(2,"0");
    timer.innerText = `${m}:${s}`;
    if (time <= 0) endQuiz();
  },1000);
}

// ===== QUIZ =====
function startQuiz() {
  showQuestion();
}

function showQuestion() {
  if (index >= questions.length) return endQuiz();

  const q = questions[index];
  question.innerHTML = `<h3>${q.q}</h3>`;
  answers.innerHTML = "";

  const mixed = q.a.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5);

  mixed.forEach(o=>{
    const b = document.createElement("button");
    b.innerText = o.t;
    b.onclick = ()=>answer(o.i);
    answers.appendChild(b);
  });
}

function answer(i) {
  if (i === questions[index].c) {
    score++;
    document.body.classList.add("flash-good");
  } else {
    document.body.classList.add("flash-bad");
  }
  setTimeout(()=>document.body.className="",300);
  index++;
  showQuestion();
}

// ===== KONIEC =====
function endQuiz() {
  clearInterval(interval);
  localStorage.setItem("attempts", attempts + 1);

  quiz.style.display = "none";
  result.classList.remove("hidden");

  if (score === questions.length) {
    const link = atob("https://t.me/+oh41Af-zqCw4OTRk);
    result.innerHTML = `
      <h1>OSTATNIA NOC üèÜ</h1>
      <p style="color:#00ff88">
        GRATULACJE ü•∑üéâ<br>PRZECHODZISZ DALEJ
      </p>
      <a class="link" href="${link}" target="_blank">${link}</a>
      <div class="footer">STREET MEET</div>
    `;
  } else {
    result.innerHTML = `<p>S≈ÅABO, S≈ÅABO SPR√ìBUJ JESZCZE RAZ üòè</p>`;
  }
}
</script>

</body>
</html>
